<div class="main-wrapper">
    <main>

        <div class='panel-body'>
            <form  #form="ngForm"  (ngSubmit)="onSubmit()" >
                <mat-form-field>
                    <mat-label>دیتاست</mat-label>
                    <mat-select required [(ngModel)]="joinNode.dataset" name="dataset">
                        <mat-option *ngFor="let dataset of datasetService.datasetsTemp" [value]="dataset">
                            {{dataset.Name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>ستون جدول</mat-label>
                    <mat-select required [(ngModel)]="joinNode.tableColumn" name="tableCol">
                        <mat-option *ngFor="let column of joinNode.inputData.columns" [value]="column">
                            {{column}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>ستون دیتاست</mat-label>
                    <mat-select required [(ngModel)]="joinNode.datasetColumn" name="datasetCol" [disabled]="!joinNode.dataset">
                        <mat-option *ngFor="let column of joinNode.dataset?.data?.columns" [value]="column">
                            {{column}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>نوع جوین</mat-label>
                    <mat-select [formControl]="joinTypeControl" required>
                        <mat-option *ngFor="let join of joinTypes; let i = index;" [value]="i">
                            {{join.name}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="joinTypeControl.hasError('required')">لطفا نوع جوین را انتخاب کنید</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>مقدار</mat-label>
                    <input matInput>
                </mat-form-field>
                <div class='actions-wrapper'>
                    <div class='validate-wrapper'>
                        <button type="submit" mat-raised-button color='primary'>اعمال</button>
                    </div>
                    <button mat-raised-button  (click)='onClose()'>لغو</button>
                </div>
            </form>

        </div>
    </main>

  
</div>
